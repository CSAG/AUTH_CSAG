const Validator = require('../src');

const OPTIONS_RAW = {};

describe('isArrayOf', () => {
  it('basics', () => {
    const validator = new Validator(OPTIONS_RAW);
    validator(null).display('test1').isObjectArray();
    validator(null).display('test2').required().isObjectArray();
    validator('test').display('test3').required().isObjectArray();
    validator([]).display('test3').required().isObjectArray();

    const errors = validator.run();

    expect(errors).toBeDefined();
    expect(errors.length).toBe(2);
    expect(errors).toContain(jasmine.objectContaining({path: ['test2'], failed: 'required'}));
    expect(errors).toContain(jasmine.objectContaining({path: ['test3'], failed: 'isObjectArray'}));
  });

});
